(self.webpackChunkrandom_word_selector=self.webpackChunkrandom_word_selector||[]).push([[16],{16:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(294),n=r(977);const s=function({settings:e,setSettings:t}){return a.createElement(a.Fragment,null,a.createElement("h2",null,"Settings"),a.createElement("div",{id:"settings",style:{width:"80%"}},a.createElement("input",{type:"checkbox",id:"display-meaning-setting",onChange:e=>t({shouldShowMeaning:e.target.checked}),checked:e.shouldShowMeaning}),a.createElement("label",{htmlFor:"display-meaning-setting"},"Display Meaning of current word")),a.createElement("br",null))};var l=r(997),i=r(61);const o=function(e){const{words:t,apiKey:r,setApiKey:n,settings:s,setCustomWords:o,customWords:c,dataSource:u,setDataSource:d}=e,m=(0,a.useMemo)((()=>null!==c?c:s.isCustomWords?JSON.stringify(t,null,2):void 0),[c]);return a.createElement(a.Fragment,null,a.createElement("h2",null,"Data source"),a.createElement("div",{id:"words-input-div",style:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap"}},a.createElement("div",{id:"source-setting",style:{width:"20%"}},a.createElement("input",{id:"input-source-static",name:"data-source",type:"radio",onClick:()=>d(i.N.STATIC),defaultChecked:u===i.N.STATIC}),a.createElement("label",{htmlFor:"input-source-static"},a.createElement("strong",null,"Static list")),a.createElement("br",null),a.createElement("br",null),a.createElement("input",{id:"input-source-api",name:"data-source",type:"radio",onClick:()=>d(i.N.API),defaultChecked:u===i.N.API}),a.createElement("label",{htmlFor:"input-source-api"},a.createElement("strong",null,"RapidAPI"))),a.createElement("div",{id:"source-input",style:{width:"80%"}},u===i.N.STATIC?a.createElement("textarea",{id:"input-static-list",onChange:e=>o(e.target.value),placeholder:l.Q,style:{height:"50vh",width:"80%"},value:m}):a.createElement("input",{id:"input-api-key",onChange:e=>n(e.target.value),placeholder:"Add RapidAPI access key here.",style:{height:"15vh",width:"80%"},value:r}))))};var c=r(825),u=r(844);const d=function(){const e=(0,n.k6)(),[t,r]=(0,c.o)(),[d,m]=(0,u.d)(),[h,p]=(0,a.useState)(null),[g,y]=(0,a.useState)(d.apiKey),[E,w]=(0,a.useState)(d.dataSource);return a.createElement(a.Fragment,null,a.createElement(o,{words:t,apiKey:g,setApiKey:y,settings:d,dataSource:E,customWords:h,setDataSource:w,setCustomWords:p}),a.createElement(s,{settings:d,setSettings:m}),a.createElement("button",{style:{height:"2em",fontSize:"1.25em"},onClick:()=>{try{E===i.N.STATIC&&(()=>{if(null!==h){let e;try{e=JSON.parse(h||JSON.stringify(l.X))}catch(e){const t="Passed data must be a valid JSON Array. Could not parse passed list.";throw console.error(t,e),new Error(t)}if(!Array.isArray(e))throw new Error("Custom words needs to be an array.");if(e.some((({word:e})=>!e)))throw new Error("Every element in passed data must have a `word` property.");r(e)}m({dataSource:E,isCustomWords:!!h})})(),E===i.N.API&&(()=>{if(!g){const e="API key is required for RapidAPI data source.";throw console.error(e),new Error(e)}m({dataSource:E,apiKey:g})})(),e.push("/selector")}catch(e){alert(e.message)}}},"Submit"))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYW5kb20td29yZC1zZWxlY3Rvci8uL3NyYy9jb21wb25lbnRzL1NldHRpbmdzLmpzIiwid2VicGFjazovL3JhbmRvbS13b3JkLXNlbGVjdG9yLy4vc3JjL2NvbXBvbmVudHMvRGF0YVNvdXJjZS5qcyIsIndlYnBhY2s6Ly9yYW5kb20td29yZC1zZWxlY3Rvci8uL3NyYy9jb21wb25lbnRzL0hvbWUuanMiXSwibmFtZXMiOlsic2V0dGluZ3MiLCJzZXRTZXR0aW5ncyIsImlkIiwic3R5bGUiLCJ3aWR0aCIsInR5cGUiLCJvbkNoYW5nZSIsImUiLCJzaG91bGRTaG93TWVhbmluZyIsInRhcmdldCIsImNoZWNrZWQiLCJodG1sRm9yIiwicHJvcHMiLCJ3b3JkcyIsImFwaUtleSIsInNldEFwaUtleSIsInNldEN1c3RvbVdvcmRzIiwiY3VzdG9tV29yZHMiLCJkYXRhU291cmNlIiwic2V0RGF0YVNvdXJjZSIsInZhbHVlIiwidXNlTWVtbyIsImlzQ3VzdG9tV29yZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJmbGV4V3JhcCIsIm5hbWUiLCJvbkNsaWNrIiwiRGF0YVNvdXJjZXMiLCJkZWZhdWx0Q2hlY2tlZCIsImV2dCIsInBsYWNlaG9sZGVyIiwiUExBQ0VIT0xERVJfVEVYVCIsImhlaWdodCIsImhpc3RvcnkiLCJ1c2VIaXN0b3J5Iiwic2V0V29yZHMiLCJ1c2VXb3Jkc1N0YXRlIiwidXNlU2V0dGluZ3NTdGF0ZSIsInVzZVN0YXRlIiwiZm9udFNpemUiLCJwYXJzZWRDdXN0b21Xb3JkcyIsInBhcnNlIiwiREVGQVVMVF9XT1JEUyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiZXJyb3IiLCJFcnJvciIsIkFycmF5IiwiaXNBcnJheSIsInNvbWUiLCJ3b3JkIiwidXBkYXRlQ3VzdG9tU3RhdGljRGF0YSIsInVwZGF0ZUFwaVNldHRpbmdzIiwicHVzaCIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiNEtBb0JB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LGdCQUFpQkwsS0FpQnZDcUMsR0FHRXBDLElBQWVZLFNBakJHLE1BQ3hCLElBQUtoQixFQUFRLENBQ1gsTUFBTWdDLEVBQVUsZ0RBR2hCLE1BRkFDLFFBQVFDLE1BQU1GLEdBRVIsSUFBSUcsTUFBTUgsR0FHbEI3QyxFQUFZLENBQUVpQixhQUFZSixZQVV0QnlDLEdBR0ZuQixFQUFRb0IsS0FBSyxhQUNiLE1BQU9qRCxHQUNQa0QsTUFBTWxELEVBQUV1QyxZQVFSIiwiZmlsZSI6IjE2LmYzNWEuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBTZXR0aW5ncyh7IHNldHRpbmdzLCBzZXRTZXR0aW5ncyB9KSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxoMj5TZXR0aW5nczwvaDI+XG4gICAgICA8ZGl2IGlkPVwic2V0dGluZ3NcIiBzdHlsZT17eyB3aWR0aDogJzgwJScgfX0+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgaWQ9XCJkaXNwbGF5LW1lYW5pbmctc2V0dGluZ1wiXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZXR0aW5ncyh7IHNob3VsZFNob3dNZWFuaW5nOiBlLnRhcmdldC5jaGVja2VkIH0pfVxuICAgICAgICAgIGNoZWNrZWQ9e3NldHRpbmdzLnNob3VsZFNob3dNZWFuaW5nfVxuICAgICAgICAvPlxuICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImRpc3BsYXktbWVhbmluZy1zZXR0aW5nXCI+RGlzcGxheSBNZWFuaW5nIG9mIGN1cnJlbnQgd29yZDwvbGFiZWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxiciAvPlxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTZXR0aW5ncztcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBQTEFDRUhPTERFUl9URVhUIH0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgeyBEYXRhU291cmNlcyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmZ1bmN0aW9uIERhdGFTb3VyY2UocHJvcHMpIHtcbiAgY29uc3QgeyB3b3JkcywgYXBpS2V5LCBzZXRBcGlLZXksIHNldHRpbmdzLCBzZXRDdXN0b21Xb3JkcywgY3VzdG9tV29yZHMsIGRhdGFTb3VyY2UsIHNldERhdGFTb3VyY2UgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHZhbHVlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGN1c3RvbVdvcmRzICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY3VzdG9tV29yZHM7XG4gICAgfVxuXG4gICAgaWYgKHNldHRpbmdzLmlzQ3VzdG9tV29yZHMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh3b3JkcywgbnVsbCwgMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2N1c3RvbVdvcmRzXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGgyPkRhdGEgc291cmNlPC9oMj5cbiAgICAgIDxkaXYgaWQ9XCJ3b3Jkcy1pbnB1dC1kaXZcIiBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdyb3cnLCBmbGV4V3JhcDogJ3dyYXAnIH19PlxuICAgICAgICA8ZGl2IGlkPVwic291cmNlLXNldHRpbmdcIiBzdHlsZT17eyB3aWR0aDogJzIwJScgfX0+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBpZD1cImlucHV0LXNvdXJjZS1zdGF0aWNcIlxuICAgICAgICAgICAgbmFtZT1cImRhdGEtc291cmNlXCJcbiAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXREYXRhU291cmNlKERhdGFTb3VyY2VzLlNUQVRJQyl9XG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17ZGF0YVNvdXJjZSA9PT0gRGF0YVNvdXJjZXMuU1RBVElDfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJpbnB1dC1zb3VyY2Utc3RhdGljXCI+XG4gICAgICAgICAgICA8c3Ryb25nPlN0YXRpYyBsaXN0PC9zdHJvbmc+XG4gICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgIDxiciAvPlxuICAgICAgICAgIDxiciAvPlxuXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBpZD1cImlucHV0LXNvdXJjZS1hcGlcIlxuICAgICAgICAgICAgbmFtZT1cImRhdGEtc291cmNlXCJcbiAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXREYXRhU291cmNlKERhdGFTb3VyY2VzLkFQSSl9XG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17ZGF0YVNvdXJjZSA9PT0gRGF0YVNvdXJjZXMuQVBJfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJpbnB1dC1zb3VyY2UtYXBpXCI+XG4gICAgICAgICAgICA8c3Ryb25nPlJhcGlkQVBJPC9zdHJvbmc+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cInNvdXJjZS1pbnB1dFwiIHN0eWxlPXt7IHdpZHRoOiAnODAlJyB9fT5cbiAgICAgICAgICB7ZGF0YVNvdXJjZSA9PT0gRGF0YVNvdXJjZXMuU1RBVElDID8gKFxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPVwiaW5wdXQtc3RhdGljLWxpc3RcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dCkgPT4gc2V0Q3VzdG9tV29yZHMoZXZ0LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtQTEFDRUhPTERFUl9URVhUfVxuICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICc1MHZoJywgd2lkdGg6ICc4MCUnIH19XG4gICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cImlucHV0LWFwaS1rZXlcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dCkgPT4gc2V0QXBpS2V5KGV2dC50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17J0FkZCBSYXBpZEFQSSBhY2Nlc3Mga2V5IGhlcmUuJ31cbiAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnMTV2aCcsIHdpZHRoOiAnODAlJyB9fVxuICAgICAgICAgICAgICB2YWx1ZT17YXBpS2V5fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhU291cmNlO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmltcG9ydCBTZXR0aW5ncyBmcm9tICcuL1NldHRpbmdzJztcbmltcG9ydCBEYXRhU291cmNlIGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBERUZBVUxUX1dPUkRTIH0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgeyBEYXRhU291cmNlcyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB1c2VXb3Jkc1N0YXRlIH0gZnJvbSAnLi4vY29udGV4dHMvd29yZHMnO1xuaW1wb3J0IHsgdXNlU2V0dGluZ3NTdGF0ZSB9IGZyb20gJy4uL2NvbnRleHRzL3NldHRpbmdzJztcblxuZnVuY3Rpb24gSG9tZSgpIHtcbiAgY29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgY29uc3QgW3dvcmRzLCBzZXRXb3Jkc10gPSB1c2VXb3Jkc1N0YXRlKCk7XG4gIGNvbnN0IFtzZXR0aW5ncywgc2V0U2V0dGluZ3NdID0gdXNlU2V0dGluZ3NTdGF0ZSgpO1xuXG4gIGNvbnN0IFtjdXN0b21Xb3Jkcywgc2V0Q3VzdG9tV29yZHNdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFthcGlLZXksIHNldEFwaUtleV0gPSB1c2VTdGF0ZShzZXR0aW5ncy5hcGlLZXkpO1xuICBjb25zdCBbZGF0YVNvdXJjZSwgc2V0RGF0YVNvdXJjZV0gPSB1c2VTdGF0ZShzZXR0aW5ncy5kYXRhU291cmNlKTtcblxuICBjb25zdCB1cGRhdGVDdXN0b21TdGF0aWNEYXRhID0gKCkgPT4ge1xuICAgIGlmIChjdXN0b21Xb3JkcyAhPT0gbnVsbCkge1xuICAgICAgbGV0IHBhcnNlZEN1c3RvbVdvcmRzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBwYXJzZWRDdXN0b21Xb3JkcyA9IEpTT04ucGFyc2UoY3VzdG9tV29yZHMgfHwgSlNPTi5zdHJpbmdpZnkoREVGQVVMVF9XT1JEUykpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1Bhc3NlZCBkYXRhIG11c3QgYmUgYSB2YWxpZCBKU09OIEFycmF5LiBDb3VsZCBub3QgcGFyc2UgcGFzc2VkIGxpc3QuJztcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCBlKTtcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJzZWRDdXN0b21Xb3JkcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXN0b20gd29yZHMgbmVlZHMgdG8gYmUgYW4gYXJyYXkuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZWRDdXN0b21Xb3Jkcy5zb21lKCh7IHdvcmQgfSkgPT4gIXdvcmQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXZlcnkgZWxlbWVudCBpbiBwYXNzZWQgZGF0YSBtdXN0IGhhdmUgYSBgd29yZGAgcHJvcGVydHkuJyk7XG4gICAgICB9XG5cbiAgICAgIHNldFdvcmRzKHBhcnNlZEN1c3RvbVdvcmRzKTtcbiAgICB9XG5cbiAgICBzZXRTZXR0aW5ncyh7IGRhdGFTb3VyY2UsIGlzQ3VzdG9tV29yZHM6ICEhY3VzdG9tV29yZHMgfSk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlQXBpU2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgaWYgKCFhcGlLZXkpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnQVBJIGtleSBpcyByZXF1aXJlZCBmb3IgUmFwaWRBUEkgZGF0YSBzb3VyY2UuJztcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBzZXRTZXR0aW5ncyh7IGRhdGFTb3VyY2UsIGFwaUtleSB9KTtcbiAgfTtcblxuICBjb25zdCBvblN1Ym1pdCA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGRhdGFTb3VyY2UgPT09IERhdGFTb3VyY2VzLlNUQVRJQykge1xuICAgICAgICB1cGRhdGVDdXN0b21TdGF0aWNEYXRhKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhU291cmNlID09PSBEYXRhU291cmNlcy5BUEkpIHtcbiAgICAgICAgdXBkYXRlQXBpU2V0dGluZ3MoKTtcbiAgICAgIH1cblxuICAgICAgaGlzdG9yeS5wdXNoKCcvc2VsZWN0b3InKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBhbGVydChlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8RGF0YVNvdXJjZSB7Li4ueyB3b3JkcywgYXBpS2V5LCBzZXRBcGlLZXksIHNldHRpbmdzLCBkYXRhU291cmNlLCBjdXN0b21Xb3Jkcywgc2V0RGF0YVNvdXJjZSwgc2V0Q3VzdG9tV29yZHMgfX0gLz5cbiAgICAgIDxTZXR0aW5ncyBzZXR0aW5ncz17c2V0dGluZ3N9IHNldFNldHRpbmdzPXtzZXRTZXR0aW5nc30gLz5cbiAgICAgIDxidXR0b24gc3R5bGU9e3sgaGVpZ2h0OiAnMmVtJywgZm9udFNpemU6ICcxLjI1ZW0nIH19IG9uQ2xpY2s9e29uU3VibWl0fT5cbiAgICAgICAgU3VibWl0XG4gICAgICA8L2J1dHRvbj5cbiAgICA8Lz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9tZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=